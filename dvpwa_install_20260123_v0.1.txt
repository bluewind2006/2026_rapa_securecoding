Step 1.  pyenv 설치
- pyenv란 여러 개의 Python 버전을 관리하고 각 Python 버전을 이용하여 가상 환경을 구축할 수 있도록 도와주는 도구

https://github.com/pyenv-win/pyenv-win

1-1)윈도우 버전
- PowerShell 

PS C:\Users\user> cd ..
PS C:\Users> cd \
PS C:\> cd .\workspace\
PS C:\workspace> Invoke-WebRequest -UseBasicParsing -Uri "https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1" -OutFile "./install-pyenv-win.ps1"; &"./install-pyenv-win.ps1"

※  파워쉘 명령어 눈에 익히기
- 인터넷에서 파일 다운로드하여 설치까지 진행되는 명령어

• 오류 발생
-cannot be loaded because running scripts is disabled on this system
  UnauthorizedAccess

해결 : Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope LocalMachine

1-2) 설치 확인
PS C:\workspace> pyenv
pyenv 3.1.1

1-3) pyenv 사용법
 1-3-1_ Python 버전 설치하기 / 삭제하기
pyenv install
pyenv uninstall

1-3-2) PC에 설치된 Python 버전 조회하기
pyenv versions

1-3-3) 해당 Python 버전으로 설정하기
pyenv global
pyenv local
pyenv shell

※ pyenv global / pyenv local / pyenv shell
 - pyenv에서는 3계층으로 파이썬 가상 환경을 제공
global : PC 전역에서 사용하는 파이썬 버전
local : 현재 프로젝트에서 사용하는 파이썬 버전
shell : 현재 쉘 세션에서 사용하는 파이썬 버전

lobal은 일반적으로 파이썬 설치 파일을 통해 PC에 설치해서 쓰는 것처럼, PC 전역에서 사용하기 위한 파이썬 버전을 설정하는 영역이며,
local은 제한된 경로 (또는 프로젝트) 내에서만 사용하기 위한 파이썬 버전,
shell은 임시로 특정 cmd 세션 안에서만 사용하기 위한 파이썬 버전
• 자세한 것은 좀더 공부


Step 2: 가상 환경 생성 및 확인
PS C:\workspace> pyenv local 3.6.2
PS C:\workspace> python --version
Python 3.6.2

※ 가상환경 적용 (activate - 활성화)
- 의존성 충돌 방지: 프로젝트 A는 A 라이브러리 버전 1.0을, 프로젝트 B는 A 라이브러리 버전 2.0을 필요로 할 때 충돌 없이 각각의 버전을 사용 가능. 
- 환경 격리: 시스템 전역 파이썬 환경에 영향을 주지 않고 프로젝트별로 필요한 패키지만 설치 및 관리 가능
- 재현성: 개발 환경 설정을 공유하여 다른 개발자나 환경에서 동일하게 프로젝트를 실행. 
- 관리 효율성: 여러 프로젝트를 진행할 때 환경을 일일이 지우고 다시 설치하는 번거로움 불필요.

2-1) 가상환경 생성 및 활성화
PS C:\workspace> python -m venv py362
-  python: 시스템에 설치된 파이썬 실행 파일을 호출.
-    -m venv: 파이썬의 표준 라이브러리인 venv 모듈을 스크립트로 실행하겠다는 옵션.
- py362: 생성될 가상환경 폴더의 이름. (사용자가 원하는 이름으로 변경 가능.)

PS C:\workspace> py362\Scripts\activate
- 가상환경 활성화

(py362) PS C:\workspace>


3-2) 적용된 가상환경 해제 (deactivate)
(py362) PS C:\workspace>  deactivate


Step 3: 파일 다운오드 및 의존성 설치 
1) 저장소 다운로드
cd C:\workspace
git clone https://github.com/anxolerd/dvpwa.git
또는 https://github.com/anxolerd/dvpwa   파일 다운로드 압축 해제

2) 의존성 설치
cd C:\workspace\dvpwa
pip install -r requirements.txt



Step 4: postgresql 설치 및 환경 설정
- https://www.postgresql.org/download/
- https://www.enterprisedb.com/downloads/postgres-postgresql-downloads
  postgresql-16.11-2-windows-x64.exe


4-1) 설치
-  default path

- db pwd:qwer1234
 port:5432
locale: default

4-2) POSTGRESQL_HOME 환경변수 설정

path=%POSTGRESQL_HOME%\bin

4-2) 명령 프롬프트 
 ① PostgreSQL에 접속 (기본 DB로)
  psql -U postgres --host localhost --port 5432
 - 비밀번호 입력 후, 프롬프트가 아래 처럼 나오면 접속 성공

postgres=#

② 데이터베이스 생성
 - SQL명령어로 생성
CREATE DATABASE sqli;

- 정상 출력: CREATE DATABASE

③ 생성 확인
\l

 - 목록에 sqli가 보이면 OK

④ psql 종료
\q


4-3)  dvpwa 데이터베이스 마이그레이션

C:\workspace\dvpwa>psql -U postgres -d sqli --host localhost --port 5432  -f migrations/000-init-schema.sql
Password for user postgres:

C:\workspace\dvpwa>psql -U postgres -d sqli --host localhost --port 5432 -f migrations/001-fixtures.sql
Password for user postgres:



Step 5: redis 설치 및 환경 설정
※ 레디스(Redis) 사용 용도소프트웨어
- 세션 스토어
- 캐싱
- 실시간 브로커
- 랭킹 및 리더더브
- 메세지 브로커

5-1) 다운로드
 -https://github.com/microsoftarchive/redis/releases
  Redis-x64-3.0.504.msi

5-2)설치
  
- default path
- 6379



Step 6: 접속 환경 설정
- 메모장 
config/dev.yaml 
----------------------------------------
db:
  user: postgres
  password: qwer1234
  host: localhost
  port: 5432
  database: sqli

redis:
  host: localhost
  port: 6379
  db: 0

app:
  host: 127.0.0.1
  port: 8080
------------------------------------------


Step 7:  서버 실행

(py362) PS C:\workspace\dvpwa> python run.py

superadmin/superadmin



