-------------------------------------------------------
■ Step 1.  pyenv 설치
- pyenv란 여러 개의 Python 버전을 관리하고 각 Python 버전을 이용하여 가상 환경을 구축할 수 있도록 도와주는 도구

https://github.com/pyenv-win/pyenv-win

1-1)윈도우 버전
- PowerShell 

PS C:\Users\user> cd ..
PS C:\Users> cd \
PS C:\> cd .\workspace\
PS C:\workspace> Invoke-WebRequest -UseBasicParsing -Uri "https://raw.githubusercontent.com/pyenv-win/pyenv-win/master/pyenv-win/install-pyenv-win.ps1" -OutFile "./install-pyenv-win.ps1"; &"./install-pyenv-win.ps1"

※  파워쉘 명령어 눈에 익히기
- 인터넷에서 파일 다운로드하여 설치까지 진행되는 명령어

• 오류 발생
-cannot be loaded because running scripts is disabled on this system
  UnauthorizedAccess

해결 : Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope LocalMachine

1-2) 설치 확인
PS C:\workspace> pyenv
pyenv 3.1.1

1-3) pyenv 사용법
 1-3-1_ Python 버전 설치하기 / 삭제하기
pyenv install
pyenv uninstall

1-3-2) PC에 설치된 Python 버전 조회하기
pyenv versions

1-3-3) 해당 Python 버전으로 설정하기
pyenv global
pyenv local
pyenv shell

※ pyenv global / pyenv local / pyenv shell
 - pyenv에서는 3계층으로 파이썬 가상 환경을 제공
global : PC 전역에서 사용하는 파이썬 버전
local : 현재 프로젝트에서 사용하는 파이썬 버전
shell : 현재 쉘 세션에서 사용하는 파이썬 버전

lobal은 일반적으로 파이썬 설치 파일을 통해 PC에 설치해서 쓰는 것처럼, PC 전역에서 사용하기 위한 파이썬 버전을 설정하는 영역이며,
local은 제한된 경로 (또는 프로젝트) 내에서만 사용하기 위한 파이썬 버전,
shell은 임시로 특정 cmd 세션 안에서만 사용하기 위한 파이썬 버전

-------------------------------------------------------------------------------------------------------
■ Step 2.
 - indows PowerShell
PS C:\workspace> pyenv --version
pyenv 3.1.1

PS C:\workspace> pyenv install 3.14.2

PS C:\workspace> pyenv local 3.14.2
PS C:\workspace> pyenv versions
* 3.14.2 (set by C:\workspace\.python-version)
  3.6.2

PS C:\workspace> pyenv install --list


PS C:\workspace> python --version
Python 3.14.2


2-2) 가상환경 생성 및 활성화
PS C:\workspace> python -m venv py3142
PS C:\workspace> py3142\Scripts\activate
(py3142) PS C:\workspace>


■ Step 3 : Django 설치
https://docs.djangoproject.com/en/6.0/releases/
Django 5.2.10 - Django 5.2.10 fixes a data loss bug introduced in Django 5.2 and one bug related to support for Python 3.14.


3-1) python -m pip install Django==5.2.10 
   pip install Django

- 경고 메시지가 뜬다면,(pip 버전을 최신으로 유지)  
  python -m pip install –upgrade pip 


※ pip install Django
 - 시스템의 설정된 환경변수에서 pip이라는 실행 파일을 찾아 직접 실행
 - 컴퓨터에 여러 버전의 파이썬이 설치되어 있을 경우, 어떤 파이썬 버전에 Django가 설치될지 불분명

※ python -m pip install Django 
 -  특정 python 실행 파일을 먼저 실행한 뒤, 그 파이썬에 부속된 pip 모듈(-m)을 실행.
 -  정확성: 현재 사용 중인 파이썬 인터프리터에 정확히 패키지를 설치

3-2) 설치 확인
  django-admin --version 
 
3-3) 설치된 Django 정보 확인
 python -m pip show django  또는 pip show django

 python -m pip list  
-  가상환경에 설치된 패키지 확인


■ Step 4: 프로젝트 생성
mkdir my_django_app
django-admin startproject myproject .    (마지막 '.'은 현재 디렉토리에 생성)

※ 마지막에 마침표(.)를 넣느냐 안 넣느냐는 "프로젝트 폴더 구조를 어떻게 만들 것인가"의 차이

■ Step 5: 서버 실행
python manage.py runserver

웹 브라우저 : http://127.0.0.1:8000/ 접속하여 확인. 

- 데이터베이스 파일 이동
 python manage.py migrate


■ Step 6: 폴더 구조
6-1) 프로젝트 루트 (최상위 폴더)
manage.py: 장고의 다양한 명령을 실행하는 커맨드라인 도구, 서버 실행(runserver), 데이터베이스 초기화(migrate), 관리자 계정 생성(createsuperuser) 등을 할 때 이 파일을 통해 명령. 직접 수정할 일은 거의 없음.
db.sqlite3: migrate 명령 실행 후 생성되는 기본 데이터베이스 파일

6-2) 설정 패키지 폴더 (myproject/) - 프로젝트의 핵심 설정 파일들이 모여 있는 폴더.
__init__.py: 파이썬에게 이 폴더를 하나의 '패키지'로 인식하게 만드는 빈 파일
settings.py: 프로젝트의 모든 설정을 담당. 데이터베이스 연결 설정, 보안 키(SECRET_KEY), 설치된 앱 목록(INSTALLED_APPS), 시간대(TIME_ZONE), 언어 설정(LANGUAGE_CODE) 등을 관리.
urls.py: 웹사이트의 주소록. 사용자가 특정 URL(예: /admin)로 접속했을 때 어떤 화면(View)을 보여줄지 연결.
asgi.py: Asynchronous Server Gateway Interface의 약자로, 실시간 채팅이나 알림 서비스 같은 비동기 통신 기능을 구현할 때 사용하는 서버 진입점
wsgi.py: Web Server Gateway Interface의 약자로, 전통적인 웹 서버(Apache, Nginx 등)에 프로젝트를 배포(배포용)할 때 사용하는 진입점


■ Step 7: 슈퍼 유저(어드민) 생성
7-1)  어드민 생성
python manage.py createsuperuser
- python manage.py createuser <유저이름> - Username, Email, Password 를 입력하여 슈퍼유저(어드민)을 생성

7-2) 슈퍼 유저 비밀번호 초기화
python manage.py changepassword <유저이름> 
- 관리자 계정의 비밀번호를 잃어버린 경우 'changepassword' 명령어를 입력하여 비밀번호를 초기화 .
 
7-3) 로컬 서버 실행 및 관리자 페이지 접속
python manage.py runserver


관리자 페이지 접속
http://localhost:8000/admin/


■ Step 8:  VS Code
- extensions _> python 검색
- Python extension for Visual Studio Code
- Python Extension Pack



■ 장고 프로젝트 실습
https://github.com/omarreda22/Django-eCommerce-Store?tab=readme-ov-file